import random

def roulette_spin():
    """Simuliert den Wurf der Kugel beim EuropÃ¤ischen Roulette (0-36)."""
    return random.randint(0, 36)

def check_six_line_win(spin_result, bet_line_start):
    """
    ÃœberprÃ¼ft, ob die Six-Line-Wette gewonnen hat.
    """
    if bet_line_start not in range(1, 32, 3):
        return False
        
    winning_numbers = list(range(bet_line_start, bet_line_start + 6))
    
    return spin_result in winning_numbers

def play_again(current_bankroll):
    """
    PrÃ¼ft, ob der Spieler weiterspielen kann und mÃ¶chte.
    """
    if current_bankroll <= 0:
        print("\nğŸ›‘ **SPIEL VORBEI!** Ihr Guthaben ist auf 0 oder weniger gesunken.")
        return False
    
    while True:
        choice = input("\nMÃ¶chten Sie eine weitere Runde spielen? (j/n): ").lower()
        if choice == 'j':
            return True
        elif choice == 'n':
            print(f"\nğŸ‘‹ Vielen Dank fÃ¼rs Spielen! Sie beenden das Spiel mit einem Guthaben von: {current_bankroll}")
            return False
        else:
            print("UngÃ¼ltige Eingabe. Bitte 'j' fÃ¼r Ja oder 'n' fÃ¼r Nein eingeben.")


def play_roulette_six_line_loop():
    """Hauptfunktion fÃ¼r das Six-Line Roulette Spiel in einer Schleife."""
    
    # 1. Initialisierung des Guthabens
    try:
        initial_bankroll = int(input("ğŸ’° Geben Sie Ihr gewÃ¼nschtes **Startguthaben** ein: "))
        if initial_bankroll <= 0:
            print("Das Startguthaben muss positiv sein.")
            return
            
        bankroll = initial_bankroll
        print(f"Ihr Startguthaben wurde auf: **{bankroll}** festgelegt.")

    except ValueError:
        print("UngÃ¼ltige Eingabe fÃ¼r das Startguthaben.")
        return

    # Hauptschleife fÃ¼r das Spiel
    while bankroll > 0:
        print("\n" + "="*40)
        print(f"**NEUE RUNDE.** Aktuelles Guthaben: {bankroll}")
        
        # 2. Einsatz und Wette abfragen
        try:
            # Einsatz abfragen und validieren
            wager_valid = False
            while not wager_valid:
                wager = int(input("Wie hoch ist Ihr Einsatz? "))
                
                if wager <= 0:
                    print("Der Einsatz muss positiv sein.")
                elif wager > bankroll:
                    print(f"Sie haben nicht genug Guthaben! Maximaler Einsatz: {bankroll}.")
                else:
                    wager_valid = True

            # Wettauswahl
            print("\nVerfÃ¼gbare Six-Line-Wetten (Startzahl des Bereichs):")
            print("1: (1-6) | 4: (4-9) | 7: (7-12) | ... | 31: (31-36)")
            
            bet_start = int(input("Geben Sie die **Startzahl** Ihres Six-Line-Bereichs ein (1, 4, 7, ..., 31): "))

            if bet_start not in range(1, 32, 3):
                print("UngÃ¼ltige Startnummer. Runde wird abgebrochen.")
                continue # Springt zum Anfang der Schleife
                
        except ValueError:
            print("UngÃ¼ltige Eingabe. Bitte nur ganze Zahlen eingeben.")
            continue # Springt zum Anfang der Schleife

        # 3. Spiel ausfÃ¼hren
        print("\n--- Das Rad dreht sich! ---")
        winning_number = roulette_spin()
        print(f"Die Kugel landet auf der Zahl: **{winning_number}**")
        
        # 4. Bankroll anpassen
        if check_six_line_win(winning_number, bet_start):
            payout = wager * 5
            bankroll += payout 
            print(f"\nğŸ‰ **GEWONNEN!** Gewinn: +{payout}")
        else:
            bankroll -= wager
            print(f"\nğŸ˜ **VERLOREN.** Verlust: -{wager}")
        
        print(f"Ihr neues Guthaben betrÃ¤gt: **{bankroll}**")
        
        # 5. Weiterspielen oder beenden?
        if not play_again(bankroll):
            break # Beendet die Hauptschleife

    print("\nSpiel beendet.")

# Spiel starten
play_roulette_six_line_loop()
